@inject ILocalizationService LocalizationService
@model Getir.MerchantPortal.Models.PagedResult<Getir.MerchantPortal.Models.NotificationResponse>

<div class="d-flex justify-content-between align-items-center mb-4">
	<h3>@LocalizationService.GetString("Notifications")</h3>
	<form asp-action="MarkAsRead" method="post" class="d-inline">
		@Html.AntiForgeryToken()
		@if (Model != null && Model.Items.Any())
		{
			@foreach (var n in Model.Items.Where(x => !x.IsRead))
			{
				<input type="hidden" name="ids" value="@n.Id" />
			}
		}
		<button type="submit" class="btn btn-primary"><i class="fas fa-check me-1"></i> @LocalizationService.GetString("MarkAllRead")</button>
	</form>
</div>

@if (Model != null && Model.Items.Any())
{
	<div class="list-group">
		@foreach (var n in Model.Items)
		{
			<div class="list-group-item d-flex justify-content-between align-items-start @(n.IsRead ? "" : "list-group-item-warning")">
				<div>
					<div class="fw-bold">@n.Title</div>
					<div>@n.Message</div>
					<small class="text-muted">@n.CreatedAt.ToString("yyyy-MM-dd HH:mm")</small>
				</div>
				<span class="badge bg-secondary">@n.Type</span>
			</div>
		}
	</div>
}
else
{
	<div class="alert alert-info">@LocalizationService.GetString("NoData")</div>
}


